{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _toConsumableArray from \"/Users/sandeeppasunuri/workspace/next-apollo-demo/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _jsxFileName = \"/Users/sandeeppasunuri/workspace/next-apollo-demo/client/app/components/templates/users-list-loaded.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useReducer, useCallback } from 'react';\nimport { LOAD_SIZE } from '../../constants';\nimport { UsersList, LoadMoreButton, PageTitle } from \"../modules\";\n\nvar userReducer = function userReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var _ref = arguments.length > 1 ? arguments[1] : undefined,\n      type = _ref.type,\n      payload = _ref.payload;\n\n  var strategy = {\n    \"default\": function _default() {\n      return state;\n    },\n    loadMore: function loadMore() {\n      return [].concat(_toConsumableArray(state), _toConsumableArray(payload));\n    }\n  };\n  return strategy[type] ? strategy[type]() : strategy[\"default\"]();\n};\n\nvar UsersListLoaded = function UsersListLoaded(_ref2) {\n  _s();\n\n  var _ref2$users = _ref2.users,\n      result = _ref2$users.result,\n      count = _ref2$users.count;\n\n  var _useReducer = useReducer(userReducer, _toConsumableArray(result.slice(0, LOAD_SIZE))),\n      data = _useReducer[0],\n      setData = _useReducer[1];\n\n  var hasMore = data.length < count;\n  var loadMore = useCallback(function () {\n    return setData({\n      type: 'loadMore',\n      payload: _toConsumableArray(result.slice(data.length, data.length + LOAD_SIZE))\n    });\n  }, [setData, result, data]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(PageTitle, {\n      title: \"Users\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(UsersList, {\n      data: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, _this), hasMore && /*#__PURE__*/_jsxDEV(LoadMoreButton, {\n      loadMore: loadMore\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 25\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(UsersListLoaded, \"jxdLbUXaqbfryFSm+P9RI5Ep0/o=\");\n\n_c = UsersListLoaded;\nexport default UsersListLoaded;\n\nvar _c;\n\n$RefreshReg$(_c, \"UsersListLoaded\");","map":{"version":3,"sources":["/Users/sandeeppasunuri/workspace/next-apollo-demo/client/app/components/templates/users-list-loaded.tsx"],"names":["useReducer","useCallback","LOAD_SIZE","UsersList","LoadMoreButton","PageTitle","userReducer","state","type","payload","strategy","loadMore","UsersListLoaded","users","result","count","slice","data","setData","hasMore","length"],"mappings":";;;;;;;;AAAA,SAASA,UAAT,EAAqBC,WAArB,QAAwC,OAAxC;AAEA,SAASC,SAAT,QAA0B,iBAA1B;AACA,SAASC,SAAT,EAAoBC,cAApB,EAAoCC,SAApC,QAAoD,YAApD;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAmC;AAAA,MAAlCC,KAAkC,uEAA1B,EAA0B;;AAAA;AAAA,MAApBC,IAAoB,QAApBA,IAAoB;AAAA,MAAdC,OAAc,QAAdA,OAAc;;AACnD,MAAMC,QAAQ,GAAG;AACb,eAAS;AAAA,aAAMH,KAAN;AAAA,KADI;AAEbI,IAAAA,QAAQ,EAAE;AAAA,0CAAUJ,KAAV,sBAAoBE,OAApB;AAAA;AAFG,GAAjB;AAIA,SAAOC,QAAQ,CAACF,IAAD,CAAR,GAAiBE,QAAQ,CAACF,IAAD,CAAR,EAAjB,GAAoCE,QAAQ,WAAR,EAA3C;AACH,CAND;;AAQA,IAAME,eAAe,GAAG,SAAlBA,eAAkB,QAAkD;AAAA;;AAAA,0BAA/CC,KAA+C;AAAA,MAAtCC,MAAsC,eAAtCA,MAAsC;AAAA,MAA9BC,KAA8B,eAA9BA,KAA8B;;AAAA,oBAC9Cf,UAAU,CAACM,WAAD,qBAAkBQ,MAAM,CAACE,KAAP,CAAa,CAAb,EAAgBd,SAAhB,CAAlB,EADoC;AAAA,MAC/De,IAD+D;AAAA,MACzDC,OADyD;;AAGtE,MAAMC,OAAO,GAAGF,IAAI,CAACG,MAAL,GAAcL,KAA9B;AAEA,MAAMJ,QAAQ,GAAGV,WAAW,CAAC;AAAA,WAAMiB,OAAO,CAAC;AACvCV,MAAAA,IAAI,EAAE,UADiC;AAEvCC,MAAAA,OAAO,qBAAMK,MAAM,CAACE,KAAP,CAAaC,IAAI,CAACG,MAAlB,EAA0BH,IAAI,CAACG,MAAL,GAAclB,SAAxC,CAAN;AAFgC,KAAD,CAAb;AAAA,GAAD,EAGzB,CAACgB,OAAD,EAAUJ,MAAV,EAAkBG,IAAlB,CAHyB,CAA5B;AAKA,sBACI;AAAA,4BACI,QAAC,SAAD;AAAW,MAAA,KAAK,EAAC;AAAjB;AAAA;AAAA;AAAA;AAAA,aADJ,eAEI,QAAC,SAAD;AAAW,MAAA,IAAI,EAAEA;AAAjB;AAAA;AAAA;AAAA;AAAA,aAFJ,EAGKE,OAAO,iBAAI,QAAC,cAAD;AAAgB,MAAA,QAAQ,EAAER;AAA1B;AAAA;AAAA;AAAA;AAAA,aAHhB;AAAA,kBADJ;AAOH,CAjBD;;GAAMC,e;;KAAAA,e;AAmBN,eAAeA,eAAf","sourcesContent":["import { useReducer, useCallback } from 'react';\nimport { UsersListProps } from '../../types/user-types';\nimport { LOAD_SIZE } from '../../constants';\nimport { UsersList, LoadMoreButton, PageTitle} from \"../modules\";\n\nconst userReducer = (state = [], { type, payload }) => {\n    const strategy = {\n        default: () => state,\n        loadMore: () => [...state, ...payload]\n    };\n    return strategy[type] ? strategy[type]() : strategy.default();\n}\n\nconst UsersListLoaded = ({ users: { result, count } }: UsersListProps) => {\n    const [data, setData] = useReducer(userReducer, [...result.slice(0, LOAD_SIZE)]);\n\n    const hasMore = data.length < count;\n\n    const loadMore = useCallback(() => setData({\n        type: 'loadMore',\n        payload: [...result.slice(data.length, data.length + LOAD_SIZE)]\n    }),[setData, result, data]);\n\n    return (\n        <>\n            <PageTitle title=\"Users\" />\n            <UsersList data={data} />\n            {hasMore && <LoadMoreButton loadMore={loadMore} />}\n        </>\n    );\n};\n\nexport default UsersListLoaded;\n"]},"metadata":{},"sourceType":"module"}