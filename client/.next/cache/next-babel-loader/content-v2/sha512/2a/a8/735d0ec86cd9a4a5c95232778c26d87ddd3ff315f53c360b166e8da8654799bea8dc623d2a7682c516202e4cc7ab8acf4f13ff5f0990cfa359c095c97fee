{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/sandeeppasunuri/workspace/next-apollo-demo/client/app/components/templates/users-list-gql-pagination.tsx\";\nimport { withApollo } from '@apollo/client/react/hoc';\nimport useCustomQuery from \"../../hooks/useCustomQuery\";\nimport { usersQuery } from '../../queries/users/users';\nimport { LOAD_SIZE } from '../../constants';\nimport { UsersList, LoadMoreButton, PageTitle } from \"../modules\";\nconst options = {\n  variables: {\n    offset: 0,\n    limit: LOAD_SIZE\n  },\n  fetchPolicy: 'network-only'\n};\n\nconst UsersListWithPagination = () => {\n  const [data, loading, error, loadMore] = useCustomQuery(usersQuery, options);\n\n  const renderLoading = () => /*#__PURE__*/_jsxDEV(\"h2\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 33\n  }, this);\n\n  if (loading) return renderLoading();\n  if (error) return /*#__PURE__*/_jsxDEV(\"h2\", {\n    children: \"Failed to load...!\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 23\n  }, this);\n  console.log(data);\n  const hasMore = data.users.count > data.users.result.length;\n  const {\n    users: {\n      result\n    }\n  } = data;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(PageTitle, {\n      title: \"Users with GraphQL pagination\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(UsersList, {\n      data: result\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), hasMore && /*#__PURE__*/_jsxDEV(LoadMoreButton, {\n      loadMore: loadMore\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true);\n};\n\nexport default withApollo(UsersListWithPagination);","map":{"version":3,"sources":["/Users/sandeeppasunuri/workspace/next-apollo-demo/client/app/components/templates/users-list-gql-pagination.tsx"],"names":["withApollo","useCustomQuery","usersQuery","LOAD_SIZE","UsersList","LoadMoreButton","PageTitle","options","variables","offset","limit","fetchPolicy","UsersListWithPagination","data","loading","error","loadMore","renderLoading","console","log","hasMore","users","count","result","length"],"mappings":";;;AAAA,SAASA,UAAT,QAA2B,0BAA3B;AAEA,OAAOC,cAAP,MAA2B,4BAA3B;AACA,SAASC,UAAT,QAA2B,2BAA3B;AACA,SAASC,SAAT,QAA0B,iBAA1B;AACA,SAASC,SAAT,EAAoBC,cAApB,EAAoCC,SAApC,QAAqD,YAArD;AAGA,MAAMC,OAAO,GAAG;AACZC,EAAAA,SAAS,EAAE;AACPC,IAAAA,MAAM,EAAE,CADD;AAEPC,IAAAA,KAAK,EAAEP;AAFA,GADC;AAKZQ,EAAAA,WAAW,EAAE;AALD,CAAhB;;AAQA,MAAMC,uBAAuB,GAAG,MAAM;AAClC,QAAM,CAACC,IAAD,EAAOC,OAAP,EAAgBC,KAAhB,EAAuBC,QAAvB,IAEFf,cAAc,CAACC,UAAD,EAAaK,OAAb,CAFlB;;AAIA,QAAMU,aAAa,GAAG,mBAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAA5B;;AAEA,MAAIH,OAAJ,EAAa,OAAOG,aAAa,EAApB;AACb,MAAIF,KAAJ,EAAW,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AAEXG,EAAAA,OAAO,CAACC,GAAR,CAAYN,IAAZ;AACA,QAAMO,OAAO,GAAGP,IAAI,CAACQ,KAAL,CAAWC,KAAX,GAAmBT,IAAI,CAACQ,KAAL,CAAWE,MAAX,CAAkBC,MAArD;AACA,QAAM;AAAEH,IAAAA,KAAK,EAAE;AAAEE,MAAAA;AAAF;AAAT,MAAwBV,IAA9B;AAEA,sBACI;AAAA,4BACI,QAAC,SAAD;AAAW,MAAA,KAAK,EAAC;AAAjB;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI,QAAC,SAAD;AAAW,MAAA,IAAI,EAAEU;AAAjB;AAAA;AAAA;AAAA;AAAA,YAFJ,EAGKH,OAAO,iBAAI,QAAC,cAAD;AAAgB,MAAA,QAAQ,EAAEJ;AAA1B;AAAA;AAAA;AAAA;AAAA,YAHhB;AAAA,kBADJ;AAOH,CArBD;;AAuBA,eAAehB,UAAU,CAACY,uBAAD,CAAzB","sourcesContent":["import { withApollo } from '@apollo/client/react/hoc';\nimport { UsersListProps } from '../../types/user-types';\nimport useCustomQuery from \"../../hooks/useCustomQuery\";\nimport { usersQuery } from '../../queries/users/users';\nimport { LOAD_SIZE } from '../../constants';\nimport { UsersList, LoadMoreButton, PageTitle } from \"../modules\";\nimport {ApolloError} from \"@apollo/client\";\n\nconst options = {\n    variables: {\n        offset: 0,\n        limit: LOAD_SIZE\n    },\n    fetchPolicy: 'network-only'\n};\n\nconst UsersListWithPagination = () => {\n    const [data, loading, error, loadMore]: [\n        UsersListProps, Boolean, ApolloError, Function\n    ] = useCustomQuery(usersQuery, options);\n\n    const renderLoading = () => <h2>Loading...</h2>;\n\n    if (loading) return renderLoading();\n    if (error) return <h2>Failed to load...!</h2>;\n\n    console.log(data);\n    const hasMore = data.users.count > data.users.result.length;\n    const { users: { result } } = data;\n\n    return (\n        <>\n            <PageTitle title=\"Users with GraphQL pagination\" />\n            <UsersList data={result} />\n            {hasMore && <LoadMoreButton loadMore={loadMore} />}\n        </>\n    );\n};\n\nexport default withApollo(UsersListWithPagination);\n"]},"metadata":{},"sourceType":"module"}